import{e as h,m as _}from"./editor.api.7cb9708e.js";import{m as V}from"./editor.api.7cb9708e.js";import{r as y,p as r}from"./vendor.1413e082.js";function x(n){return/^\d+$/.test(n)?n+"px":n}function f(){}var O=globalThis&&globalThis.__extends||function(){var n=function(i,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])},n(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),g=globalThis&&globalThis.__assign||function(){return g=Object.assign||function(n){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},g.apply(this,arguments)},w=function(n){O(i,n);function i(e){var t=n.call(this,e)||this;return t.assignRef=function(o){t.containerElement=o},t.containerElement=void 0,t}return i.prototype.componentDidMount=function(){this.initMonaco()},i.prototype.componentDidUpdate=function(e){var t=this.props,o=t.language,s=t.theme,a=t.height,l=t.options,p=t.width,m=t.className,v=this.editor.getModel(),c=v.original,u=v.modified;this.props.original!==c.getValue()&&c.setValue(this.props.original),this.props.value!=null&&this.props.value!==u.getValue()&&(this.__prevent_trigger_change_event=!0,this.editor.getModifiedEditor().pushUndoStop(),u.pushEditOperations([],[{range:u.getFullModelRange(),text:this.props.value}]),this.editor.getModifiedEditor().pushUndoStop(),this.__prevent_trigger_change_event=!1),e.language!==o&&(h.setModelLanguage(c,o),h.setModelLanguage(u,o)),e.theme!==s&&h.setTheme(s),this.editor&&(p!==e.width||a!==e.height)&&this.editor.layout(),e.options!==l&&this.editor.updateOptions(g(g({},m?{extraEditorClassName:m}:{}),l))},i.prototype.componentWillUnmount=function(){this.destroyMonaco()},i.prototype.editorWillMount=function(){var e=this.props.editorWillMount,t=e(_);return t||{}},i.prototype.editorDidMount=function(e){var t=this;this.props.editorDidMount(e,_);var o=e.getModel().modified;this._subscription=o.onDidChangeContent(function(s){t.__prevent_trigger_change_event||t.props.onChange(o.getValue(),s)})},i.prototype.initModels=function(e,t){var o=this.props.language,s=h.createModel(t,o),a=h.createModel(e,o);this.editor.setModel({original:s,modified:a})},i.prototype.initMonaco=function(){var e=this.props.value!=null?this.props.value:this.props.defaultValue,t=this.props,o=t.original,s=t.theme,a=t.options,l=t.overrideServices,p=t.className;this.containerElement&&(this.editorWillMount(),this.editor=h.createDiffEditor(this.containerElement,g(g(g({},p?{extraEditorClassName:p}:{}),a),s?{theme:s}:{}),l),this.initModels(e,o),this.editorDidMount(this.editor))},i.prototype.destroyMonaco=function(){if(this.editor){this.editor.dispose();var e=this.editor.getModel(),t=e.original,o=e.modified;t&&t.dispose(),o&&o.dispose()}this._subscription&&this._subscription.dispose()},i.prototype.render=function(){var e=this.props,t=e.width,o=e.height,s=x(t),a=x(o),l={width:s,height:a};return y.exports.createElement("div",{ref:this.assignRef,style:l,className:"react-monaco-editor-container"})},i.propTypes={width:r.exports.oneOfType([r.exports.string,r.exports.number]),height:r.exports.oneOfType([r.exports.string,r.exports.number]),original:r.exports.string,value:r.exports.string,defaultValue:r.exports.string,language:r.exports.string,theme:r.exports.string,options:r.exports.object,overrideServices:r.exports.object,editorDidMount:r.exports.func,editorWillMount:r.exports.func,onChange:r.exports.func,className:r.exports.string},i.defaultProps={width:"100%",height:"100%",original:null,value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorDidMount:f,editorWillMount:f,onChange:f,className:null},i}(y.exports.Component),S=w,E=globalThis&&globalThis.__extends||function(){var n=function(i,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])},n(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),d=globalThis&&globalThis.__assign||function(){return d=Object.assign||function(n){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},d.apply(this,arguments)},b=globalThis&&globalThis.__rest||function(n,i){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&i.indexOf(t)<0&&(e[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)i.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(e[t[o]]=n[t[o]]);return e},j=function(n){E(i,n);function i(e){var t=n.call(this,e)||this;return t.assignRef=function(o){t.containerElement=o},t.containerElement=void 0,t}return i.prototype.componentDidMount=function(){this.initMonaco()},i.prototype.componentDidUpdate=function(e){var t=this.props,o=t.value,s=t.language,a=t.theme,l=t.height,p=t.options,m=t.width,v=t.className,c=this.editor,u=c.getModel();if(this.props.value!=null&&this.props.value!==u.getValue()&&(this.__prevent_trigger_change_event=!0,this.editor.pushUndoStop(),u.pushEditOperations([],[{range:u.getFullModelRange(),text:o}]),this.editor.pushUndoStop(),this.__prevent_trigger_change_event=!1),e.language!==s&&h.setModelLanguage(u,s),e.theme!==a&&h.setTheme(a),c&&(m!==e.width||l!==e.height)&&c.layout(),e.options!==p){p.model;var M=b(p,["model"]);c.updateOptions(d(d({},v?{extraEditorClassName:v}:{}),M))}},i.prototype.componentWillUnmount=function(){this.destroyMonaco()},i.prototype.destroyMonaco=function(){if(this.editor){this.editor.dispose();var e=this.editor.getModel();e&&e.dispose()}this._subscription&&this._subscription.dispose()},i.prototype.initMonaco=function(){var e=this.props.value!=null?this.props.value:this.props.defaultValue,t=this.props,o=t.language,s=t.theme,a=t.overrideServices,l=t.className;if(this.containerElement){var p=d(d({},this.props.options),this.editorWillMount());this.editor=h.create(this.containerElement,d(d(d({value:e,language:o},l?{extraEditorClassName:l}:{}),p),s?{theme:s}:{}),a),this.editorDidMount(this.editor)}},i.prototype.editorWillMount=function(){var e=this.props.editorWillMount,t=e(_);return t||{}},i.prototype.editorDidMount=function(e){var t=this;this.props.editorDidMount(e,_),this._subscription=e.onDidChangeModelContent(function(o){t.__prevent_trigger_change_event||t.props.onChange(e.getValue(),o)})},i.prototype.render=function(){var e=this.props,t=e.width,o=e.height,s=x(t),a=x(o),l={width:s,height:a};return y.exports.createElement("div",{ref:this.assignRef,style:l,className:"react-monaco-editor-container"})},i.propTypes={width:r.exports.oneOfType([r.exports.string,r.exports.number]),height:r.exports.oneOfType([r.exports.string,r.exports.number]),value:r.exports.string,defaultValue:r.exports.string,language:r.exports.string,theme:r.exports.string,options:r.exports.object,overrideServices:r.exports.object,editorDidMount:r.exports.func,editorWillMount:r.exports.func,onChange:r.exports.func,className:r.exports.string},i.defaultProps={width:"100%",height:"100%",value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorDidMount:f,editorWillMount:f,onChange:f,className:null},i}(y.exports.Component),C=j;export{S as MonacoDiffEditor,C as default,V as monaco};
