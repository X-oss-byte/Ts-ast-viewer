(this["webpackJsonpts-ast-viewer"]=this["webpackJsonpts-ast-viewer"]||[]).push([[6],{3:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.constants=void 0,o(n(37),t),t.constants=a(n(38)),o(n(39),t)},37:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compilerVersionCollection=void 0,t.compilerVersionCollection=[{version:"4.4.2",packageName:"typescript-4.4.2"},{version:"4.3.5",packageName:"typescript-4.3.5"},{version:"4.2.4",packageName:"typescript-4.2.4"},{version:"4.1.5",packageName:"typescript-4.1.5"},{version:"4.0.5",packageName:"typescript-4.0.5"},{version:"3.9.7",packageName:"typescript-3.9.7"},{version:"3.8.3",packageName:"typescript-3.8.3"},{version:"3.7.5",packageName:"typescript-3.7.5"},{version:"3.6.4",packageName:"typescript-3.6.4"},{version:"3.5.3",packageName:"typescript-3.5.3"},{version:"3.4.5",packageName:"typescript-3.4.5"},{version:"3.3.3",packageName:"typescript-3.3.3"},{version:"@next (4.5.0-dev.20211026)",packageName:"typescript-next"}]},38:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.general=t.css=void 0,t.css={options:{id:"options",buttonId:"optionsButton",compilerVersionSelectionId:"compilerVersionSelection",treeModeId:"treeMode",bindingEnabledId:"bindingEnabled",showFactoryCodeId:"showFactoryCode",showInternalsId:"showInternals"},mainCodeEditor:{id:"codeEditor"},factoryCodeEditor:{id:"factoryCodeEditor"},treeViewer:{id:"treeViewer",selectedNodeClass:"selected"},properties:{node:{id:"node"},type:{id:"type"},symbol:{id:"symbol"},signature:{id:"signature"}}},t.general={sourceFileRefreshDelay:150}},39:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeMode=void 0,function(e){e[e.forEachChild=0]="forEachChild",e[e.getChildren=1]="getChildren"}(t.TreeMode||(t.TreeMode={}))},48:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"SET_CODE",(function(){return d})),n.d(r,"SET_API_LOADING_STATE",(function(){return p})),n.d(r,"REFRESH_SOURCEFILE",(function(){return h})),n.d(r,"SET_SELECTED_NODE",(function(){return f})),n.d(r,"SET_OPTIONS",(function(){return b}));var i=n(8),o=n.n(i),a=n(12),c=n(11),s=n(3),u=n(1),l=n.n(u),d="SET_CODE",p="SET_API_LOADING_STATE",h="REFRESH_SOURCEFILE",f="SET_SELECTED_NODE",b="SET_OPTIONS";function g(e){return{type:r.SET_API_LOADING_STATE,loadingState:e}}function m(e){return{type:r.REFRESH_SOURCEFILE,api:e}}var j=n(7),v=n(9),y=function(){function e(){Object(j.a)(this,e)}return Object(v.a)(e,null,[{key:"from",value:function(e){for(var t=[];;){var n=e.next();if(n.done)return t;t.push(n.value)}}},{key:"binarySearch",value:function(e,t){for(var n=e.length-1,r=0;r<=n;){var i=Math.floor((n+r)/2),o=t(e[i]);if(0===o)return i;o<0?n=i-1:r=i+1}return-1}}]),e}();function O(e,t){throw new Error(t)}var x=function e(t){Object(j.a)(this,e),this.value=t},S=n(10);var C=function(){function e(){Object(j.a)(this,e)}return Object(v.a)(e,null,[{key:"getNames",value:function(e){return Object.keys(e).filter((function(t){return"number"===typeof e[t]}))}},{key:"getValues",value:function(e){return Object.keys(e).map((function(t){return e[t]})).filter((function(e){return"number"===typeof e}))}},{key:"getNamesForValues",value:function(e){var t,n={},r=Object(S.a)(this.getNames(e));try{for(r.s();!(t=r.n()).done;){var i=t.value,o=e[i];null==n[o]&&(n[o]=[]),n[o].push(i)}}catch(a){r.e(a)}finally{r.f()}return Object.keys(n).map((function(e){return{value:parseInt(e,10),names:n[e]}}))}}]),e}();function N(e,t){return function(e){null==k[e.tsAstViewer.packageName]&&(k[e.tsAstViewer.packageName]=function(e){var t,n={},r=Object(S.a)(Object.keys(e.SyntaxKind).filter((function(e){return isNaN(parseInt(e,10))})));try{for(r.s();!(t=r.n()).done;){var i=t.value,o=e.SyntaxKind[i];null==n[o]&&(n[o]=i)}}catch(a){r.e(a)}finally{r.f()}return n}(e));return k[e.tsAstViewer.packageName]}(e)[t]}var k={};var E=function(){function e(t){Object(j.a)(this,e),this.text=t,this.lineInfos=void 0,this.lineInfos=function(e){for(var t=[],n=0,r=0;r<e.length;r++)"\n"===e[r]&&i(r);return i(e.length),t;function i(e){t.push({pos:n,length:e-n,number:t.length+1}),n=e+1}}(t)}return Object(v.a)(e,[{key:"getNumberAndColumnFromPos",value:function(e){if(e<0)return{lineNumber:1,column:1};var t=y.binarySearch(this.lineInfos,(function(t){return e<t.pos?-1:e>=t.pos&&e<t.pos+t.length+1?0:1})),n=t>=0?this.lineInfos[t]:this.lineInfos[this.lineInfos.length-1];return null==n?{lineNumber:1,column:1}:{lineNumber:n.number,column:Math.min(e-n.pos+1,n.length+1)}}},{key:"getPosFromLineAndColumn",value:function(e,t){if(0===this.lineInfos.length||e<1)return 0;var n=this.lineInfos[e-1];if(null==n){var r=this.lineInfos[this.lineInfos.length-1];return r.pos+r.length}return n.pos+Math.min(n.length,t-1)}}]),e}();function w(e){return new Promise((function(t){return setTimeout(t,e)}))}var F=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage;Object(j.a)(this,e),this.localStorage=t,this._cachedState=void 0}return Object(v.a)(e,[{key:"defaultState",get:function(){return{version:3,treeMode:s.TreeMode.forEachChild,showFactoryCode:!0,showInternals:!1}}},{key:"get",value:function(){if(null!=this._cachedState)return this._cachedState;try{var t=this.localStorage.getItem(e._stateKey);if(null!=t){var n=function(e){return function(e){if(1!==e.version)return;e.showFactoryCode=!0,e.version=2}(e),function(e){if(2!==e.version)return;e.showInternals=!1,e.version=3}(e),e}(JSON.parse(t)||this.defaultState);if(this.verifyData(n))return n}}catch(r){console.error("Problem getting state: "+r)}return this.defaultState}},{key:"set",value:function(t){try{if(!this.verifyData(t))return;this.localStorage.setItem(e._stateKey,JSON.stringify(t)),this._cachedState=t}catch(n){console.error("Problem saving state: "+n)}}},{key:"verifyData",value:function(e){return 3===e.version&&((e.treeMode===s.TreeMode.forEachChild||e.treeMode===s.TreeMode.getChildren)&&("boolean"===typeof e.showFactoryCode&&"boolean"===typeof e.showInternals))}}]),e}();F._stateKey="tsSimpleAst_savedState";var T=n(25),I=function(){function e(){Object(j.a)(this,e)}return Object(v.a)(e,[{key:"getUrlCode",value:function(){if(document.location.hash&&document.location.hash.startsWith("#code"))try{var e=document.location.hash.replace("#code/","").trim();return Object(T.decompressFromEncodedURIComponent)(e)||""}catch(t){console.error(t)}return""}},{key:"updateUrl",value:function(e){function t(e){window.history.replaceState(void 0,"","#".concat(e))}0===e.length?t(""):t("code/".concat(Object(T.compressToEncodedURIComponent)(e)))}}]),e}();function P(e){return L.apply(this,arguments)}function L(){return(L=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="typescript-4.4.2"===e.t0?3:"typescript-4.3.5"===e.t0?6:"typescript-4.2.4"===e.t0?9:"typescript-4.1.5"===e.t0?12:"typescript-4.0.5"===e.t0?15:"typescript-3.9.7"===e.t0?18:"typescript-3.8.3"===e.t0?21:"typescript-3.7.5"===e.t0?24:"typescript-3.6.4"===e.t0?27:"typescript-3.5.3"===e.t0?30:"typescript-3.4.5"===e.t0?33:"typescript-3.3.3"===e.t0?36:"typescript-next"===e.t0?39:42;break;case 3:return e.next=5,Promise.all([n.e(30),n.e(21)]).then(n.t.bind(null,743,7));case 5:return e.abrupt("return",e.sent);case 6:return e.next=8,Promise.all([n.e(29),n.e(20)]).then(n.t.bind(null,744,7));case 8:return e.abrupt("return",e.sent);case 9:return e.next=11,Promise.all([n.e(28),n.e(19)]).then(n.t.bind(null,745,7));case 11:return e.abrupt("return",e.sent);case 12:return e.next=14,Promise.all([n.e(27),n.e(18)]).then(n.t.bind(null,746,7));case 14:return e.abrupt("return",e.sent);case 15:return e.next=17,Promise.all([n.e(26),n.e(17)]).then(n.t.bind(null,747,7));case 17:return e.abrupt("return",e.sent);case 18:return e.next=20,Promise.all([n.e(25),n.e(16)]).then(n.t.bind(null,748,7));case 20:return e.abrupt("return",e.sent);case 21:return e.next=23,Promise.all([n.e(24),n.e(15)]).then(n.t.bind(null,749,7));case 23:return e.abrupt("return",e.sent);case 24:return e.next=26,Promise.all([n.e(23),n.e(14)]).then(n.t.bind(null,750,7));case 26:return e.abrupt("return",e.sent);case 27:return e.next=29,Promise.all([n.e(1),n.e(2),n.e(150),n.e(11)]).then(n.t.bind(null,751,7));case 29:return e.abrupt("return",e.sent);case 30:return e.next=32,Promise.all([n.e(1),n.e(2),n.e(149),n.e(12)]).then(n.t.bind(null,752,7));case 32:return e.abrupt("return",e.sent);case 33:return e.next=35,Promise.all([n.e(1),n.e(2),n.e(148),n.e(10)]).then(n.t.bind(null,753,7));case 35:return e.abrupt("return",e.sent);case 36:return e.next=38,Promise.all([n.e(1),n.e(2),n.e(147),n.e(9)]).then(n.t.bind(null,754,7));case 38:return e.abrupt("return",e.sent);case 39:return e.next=41,Promise.all([n.e(31),n.e(22)]).then(n.t.bind(null,755,7));case 41:return e.abrupt("return",e.sent);case 42:return e.abrupt("return",O(0,"Not implemented version: ".concat(t)));case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return M.apply(this,arguments)}function M(){return(M=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="typescript-4.4.2"===e.t0?3:"typescript-4.3.5"===e.t0?6:"typescript-4.2.4"===e.t0?9:"typescript-4.1.5"===e.t0?12:"typescript-4.0.5"===e.t0?15:"typescript-3.9.7"===e.t0?18:"typescript-3.8.3"===e.t0?21:"typescript-3.7.5"===e.t0?24:"typescript-3.6.4"===e.t0?27:"typescript-3.5.3"===e.t0?30:"typescript-3.4.5"===e.t0?33:"typescript-3.3.3"===e.t0?36:"typescript-next"===e.t0?39:42;break;case 3:return e.next=5,n.e(60).then(n.bind(null,856));case 5:return e.abrupt("return",e.sent);case 6:return e.next=8,n.e(59).then(n.bind(null,857));case 8:return e.abrupt("return",e.sent);case 9:return e.next=11,n.e(58).then(n.bind(null,858));case 11:return e.abrupt("return",e.sent);case 12:return e.next=14,n.e(57).then(n.bind(null,859));case 14:return e.abrupt("return",e.sent);case 15:return e.next=17,n.e(56).then(n.bind(null,862));case 17:return e.abrupt("return",e.sent);case 18:return e.next=20,n.e(55).then(n.bind(null,860));case 20:return e.abrupt("return",e.sent);case 21:return e.next=23,n.e(54).then(n.bind(null,861));case 23:return e.abrupt("return",e.sent);case 24:return e.next=26,n.e(53).then(n.bind(null,863));case 26:return e.abrupt("return",e.sent);case 27:return e.next=29,n.e(52).then(n.bind(null,864));case 29:return e.abrupt("return",e.sent);case 30:return e.next=32,n.e(51).then(n.bind(null,865));case 32:return e.abrupt("return",e.sent);case 33:return e.next=35,n.e(50).then(n.bind(null,866));case 35:return e.abrupt("return",e.sent);case 36:return e.next=38,n.e(49).then(n.bind(null,867));case 38:return e.abrupt("return",e.sent);case 39:return e.next=41,n.e(61).then(n.bind(null,855));case 41:return e.abrupt("return",e.sent);case 42:return e.abrupt("return",O(0,"Not implemented version: ".concat(t)));case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="typescript-4.4.2"===e.t0?3:"typescript-4.3.5"===e.t0?6:"typescript-4.2.4"===e.t0?9:"typescript-4.1.5"===e.t0?12:"typescript-4.0.5"===e.t0?15:"typescript-3.9.7"===e.t0?18:"typescript-3.8.3"===e.t0?21:"typescript-3.7.5"===e.t0?24:"typescript-3.6.4"===e.t0?27:"typescript-3.5.3"===e.t0?30:"typescript-3.4.5"===e.t0?33:"typescript-3.3.3"===e.t0?36:"typescript-next"===e.t0?39:42;break;case 3:return e.next=5,Promise.all([n.e(0),n.e(47)]).then(n.bind(null,756));case 5:return e.abrupt("return",e.sent.generateFactoryCode);case 6:return e.next=8,Promise.all([n.e(0),n.e(46)]).then(n.bind(null,757));case 8:return e.abrupt("return",e.sent.generateFactoryCode);case 9:return e.next=11,Promise.all([n.e(0),n.e(45)]).then(n.bind(null,758));case 11:return e.abrupt("return",e.sent.generateFactoryCode);case 12:return e.next=14,Promise.all([n.e(0),n.e(44)]).then(n.bind(null,759));case 14:return e.abrupt("return",e.sent.generateFactoryCode);case 15:return e.next=17,Promise.all([n.e(0),n.e(43)]).then(n.bind(null,760));case 17:return e.abrupt("return",e.sent.generateFactoryCode);case 18:return e.next=20,Promise.all([n.e(0),n.e(42)]).then(n.bind(null,761));case 20:return e.abrupt("return",e.sent.generateFactoryCode);case 21:return e.next=23,Promise.all([n.e(0),n.e(41)]).then(n.bind(null,762));case 23:return e.abrupt("return",e.sent.generateFactoryCode);case 24:return e.next=26,Promise.all([n.e(0),n.e(40)]).then(n.bind(null,763));case 26:return e.abrupt("return",e.sent.generateFactoryCode);case 27:return e.next=29,Promise.all([n.e(0),n.e(39)]).then(n.bind(null,764));case 29:return e.abrupt("return",e.sent.generateFactoryCode);case 30:return e.next=32,Promise.all([n.e(0),n.e(38)]).then(n.bind(null,765));case 32:return e.abrupt("return",e.sent.generateFactoryCode);case 33:return e.next=35,Promise.all([n.e(0),n.e(37)]).then(n.bind(null,766));case 35:return e.abrupt("return",e.sent.generateFactoryCode);case 36:return e.next=38,Promise.all([n.e(0),n.e(36)]).then(n.bind(null,767));case 38:return e.abrupt("return",e.sent.generateFactoryCode);case 39:return e.next=41,Promise.all([n.e(0),n.e(48)]).then(n.bind(null,768));case 41:return e.abrupt("return",e.sent.generateFactoryCode);case 42:return e.abrupt("return",O(0,"Not implemented version: ".concat(t)));case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="typescript-4.4.2"===e.t0?3:"typescript-4.3.5"===e.t0?6:"typescript-4.2.4"===e.t0?9:"typescript-4.1.5"===e.t0?12:"typescript-4.0.5"===e.t0?15:"typescript-3.9.7"===e.t0?18:"typescript-3.8.3"===e.t0?21:"typescript-3.7.5"===e.t0?24:"typescript-3.6.4"===e.t0?27:"typescript-3.5.3"===e.t0?30:"typescript-3.4.5"===e.t0?33:"typescript-3.3.3"===e.t0?36:"typescript-next"===e.t0?39:42;break;case 3:return e.next=5,n.e(73).then(n.bind(null,769));case 5:return e.abrupt("return",e.sent);case 6:return e.next=8,n.e(72).then(n.bind(null,770));case 8:return e.abrupt("return",e.sent);case 9:return e.next=11,n.e(71).then(n.bind(null,771));case 11:return e.abrupt("return",e.sent);case 12:return e.next=14,n.e(70).then(n.bind(null,772));case 14:return e.abrupt("return",e.sent);case 15:return e.next=17,n.e(69).then(n.bind(null,773));case 17:return e.abrupt("return",e.sent);case 18:return e.next=20,n.e(68).then(n.bind(null,774));case 20:return e.abrupt("return",e.sent);case 21:return e.next=23,n.e(67).then(n.bind(null,775));case 23:return e.abrupt("return",e.sent);case 24:return e.next=26,n.e(66).then(n.bind(null,776));case 26:return e.abrupt("return",e.sent);case 27:return e.next=29,n.e(65).then(n.bind(null,777));case 29:return e.abrupt("return",e.sent);case 30:return e.next=32,n.e(64).then(n.bind(null,778));case 32:return e.abrupt("return",e.sent);case 33:return e.next=35,n.e(63).then(n.bind(null,779));case 35:return e.abrupt("return",e.sent);case 36:return e.next=38,n.e(62).then(n.bind(null,780));case 38:return e.abrupt("return",e.sent);case 39:return e.next=41,n.e(74).then(n.bind(null,781));case 41:return e.abrupt("return",e.sent);case 42:return e.abrupt("return",O(0,"Not implemented version: ".concat(t)));case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=n(6);function K(e,t,n){if(null==e||e===t)return n;var r=t.ScriptTarget[e.ScriptTarget[n.scriptTarget]],i=t.ScriptKind[e.ScriptKind[n.scriptKind]];return Object(R.a)(Object(R.a)({},n),{},{scriptTarget:null==r?t.ScriptTarget.Latest:r,scriptKind:null==i?t.ScriptKind.TSX:i})}var V=n(26),H=n(20);function U(e,t,n,r){var i,o="/ts-ast-viewer".concat(function(e,t){switch(t){case e.ScriptKind.TS:return".ts";case e.ScriptKind.TSX:return".tsx";case e.ScriptKind.JS:return".js";case e.ScriptKind.JSX:return".jsx";case e.ScriptKind.JSON:return".json";case e.ScriptKind.External:case e.ScriptKind.Deferred:case e.ScriptKind.Unknown:return"";default:return O(0,"Not implemented ScriptKind: ".concat(e.ScriptKind[t]))}}(e,r)),a=e.createSourceFile(o,t,n,!1,r);return{sourceFile:a,bindingTools:function(){null==i&&(i=function(){var t={strict:!0,target:n,allowJs:!0,module:e.ModuleKind.ES2015},r=Object(R.a)(Object(H.a)({},o,a),e.tsAstViewer.cachedSourceFiles),i={getSourceFile:function(e,t,n){return r[e]},getDefaultLibFileName:function(t){return"/"+e.getDefaultLibFileName(t)},writeFile:function(){},getCurrentDirectory:function(){return"/"},getDirectories:function(e){return[]},fileExists:function(e){return null!=r[e]},readFile:function(e){return null!=r[e]?r[e].getFullText():void 0},getCanonicalFileName:function(e){return e},useCaseSensitiveFileNames:function(){return!0},getNewLine:function(){return"\n"},getEnvironmentVariable:function(){return""}},c=e.createProgram(Object(V.a)(Object.keys(r)),t,i);return{typeChecker:c.getTypeChecker(),program:c}}());return i}}}function W(e,t){switch(e){case s.TreeMode.getChildren:return function(e){return e.getChildren(t)};case s.TreeMode.forEachChild:return function(e){var t=[];return e.forEachChild((function(e){t.push(e)})),t};default:return O(0,"Unhandled mode: ".concat(e))}}var z={},B={};function J(e){return null==z[e]&&(z[e]=function(e){return q.apply(this,arguments)}(e),z[e].catch((function(){return delete z[e]}))),z[e]}function G(e){return!0===B[e]}function q(){return(q=Object(a.a)(o.a.mark((function e(t){var n,r,i,a,c,s,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(){return Object.keys(a).map((function(e){return a[e]})).map((function(e){return i.createSourceFile(e.fileName,e.text,i.ScriptTarget.Latest,!1,i.ScriptKind.TS)}))},n=_(t),r=P(t),e.next=5,r;case 5:return(i=e.sent).tsAstViewer={packageName:t,cachedSourceFiles:{}},e.next=9,n;case 9:a=e.sent,c=Object(S.a)(l());try{for(c.s();!(s=c.n()).done;)u=s.value,i.tsAstViewer.cachedSourceFiles[u.fileName]=u}catch(o){c.e(o)}finally{c.f()}return B[t]=!0,e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t){var n=e.jsDoc;return n&&n.length>0?n[0].getStart(t):e.getStart(t)}var Q={},Y={};function Z(e){return null==Q[e]&&(Q[e]=function(e){return D.apply(this,arguments)}(e),Q[e].catch((function(){return delete Q[e]})),Q[e].then((function(){return Y[e]=!0}))),Q[e]}var $,ee=new I;function te(e,t){switch(t.type){case r.SET_SELECTED_NODE:return null==e.compiler?e:Object(R.a)(Object(R.a)({},e),{},{compiler:Object(R.a)(Object(R.a)({},e.compiler),{},{selectedNode:t.node})});case r.SET_API_LOADING_STATE:return Object(R.a)(Object(R.a)({},e),{},{apiLoadingState:t.loadingState});case r.REFRESH_SOURCEFILE:var n=Object(R.a)(Object(R.a)({},e),{},{options:K(null==e.compiler?void 0:e.compiler.api,t.api,e.options)});return function(e,t,n,r,i){var o=U(t,r,i.scriptTarget,i.scriptKind),a=o.sourceFile,c=o.bindingTools;n.compiler={packageName:e,api:t,sourceFile:a,bindingTools:c,selectedNode:a}}(n.options.compilerPackageName,t.api,n,e.code,e.options),ee.updateUrl(e.code),n;case r.SET_CODE:return Object(R.a)(Object(R.a)({},e),{},{code:t.code});case r.SET_OPTIONS:return Object(R.a)(Object(R.a)({},e),{},{options:Object(R.a)(Object(R.a)({},e.options),t.options)});default:return e}}!function(e){e[e.Loading=0]="Loading",e[e.Loaded=1]="Loaded",e[e.Error=2]="Error"}($||($={}));var ne=n(0),re=new F;console.log("[ts-ast-viewer]: Inspect the ts, sourceFile, node, symbol, type, signature, program, and checker/typeChecker global variables here in the console.");var ie=l.a.createContext(void 0);function oe(e){var t=e.children,n=Object(u.useReducer)(te,{apiLoadingState:$.Loading,code:(new I).getUrlCode(),options:{compilerPackageName:s.compilerVersionCollection[0].packageName,treeMode:re.get().treeMode,scriptTarget:99,scriptKind:4,bindingEnabled:!0,showFactoryCode:re.get().showFactoryCode,showInternals:re.get().showInternals},compiler:void 0}),r=Object(c.a)(n,2),i=r[0],l=r[1],d={state:i,dispatch:l};return Object(u.useEffect)((function(){var e=new AbortController;return function(e){t.apply(this,arguments)}(e.signal),function(){e.abort()};function t(){return(t=Object(a.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.options.compilerPackageName,r=!G(n),e.prev=2,!r){e.next=7;break}l(g($.Loading)),e.next=9;break;case 7:return e.next=9,w(s.constants.general.sourceFileRefreshDelay);case 9:if(!t.aborted){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,J(n);case 13:if(a=e.sent,!t.aborted){e.next=16;break}return e.abrupt("return");case 16:l(m(a)),l(g($.Loaded)),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),console.error(e.t0),r&&l(g($.Error));case 24:case"end":return e.stop()}}),e,null,[[2,20]])})))).apply(this,arguments)}}),[i.code,i.options.scriptKind,i.options.scriptTarget,i.options.compilerPackageName,i.options.bindingEnabled]),Object(u.useEffect)((function(){var e=re.get();e.treeMode=i.options.treeMode,e.showFactoryCode=i.options.showFactoryCode,e.showInternals=i.options.showInternals,re.set(e)}),[i.options.treeMode,i.options.showFactoryCode,i.options.showInternals]),Object(u.useEffect)((function(){if(null!=i.compiler&&null!=i.compiler.selectedNode){var e=window,t=i.compiler.selectedNode;if(e.ts=i.compiler.api,e.node=t,e.selectedNode=t,e.sourceFile=i.compiler.sourceFile,i.options.bindingEnabled){var n=i.compiler.bindingTools();e.checker=n.typeChecker,e.typeChecker=n.typeChecker,e.program=n.program,e.type=r((function(){return n.typeChecker.getTypeAtLocation(t)})),e.symbol=r((function(){return t.symbol||n.typeChecker.getSymbolAtLocation(t)})),e.signature=r((function(){return n.typeChecker.getSignatureFromDeclaration(t)}))}else e.checker=void 0,e.typeChecker=void 0,e.program=void 0,e.type=void 0,e.symbol=void 0,e.signature=void 0}function r(e){try{return e()}catch(t){return}}})),Object(ne.jsx)(ie.Provider,{value:d,children:t})}var ae=n(33),ce=n.n(ae),se=n(16),ue=(n(48),n(19)),le=n(17),de=n(18),pe=n(34);function he(e){var t=e.backgroundColor;return Object(ne.jsx)("div",{className:"verticallyCenter horizontallyCenter fillHeight",style:{backgroundColor:t},children:Object(ne.jsx)(pe.BeatLoader,{color:"#fff",loading:!0,size:25})})}var fe=function(e){Object(le.a)(r,e);var t=Object(de.a)(r);function r(e){var i;Object(j.a)(this,r),(i=t.call(this,e)).editor=void 0,i.outerContainerRef=l.a.createRef(),i.disposables=[],i.deltaDecorations=[],i.lineAndColumnComputer=new E(""),i.state={position:0,lineNumber:1,column:1,editorComponent:void 0},i.editorDidMount=i.editorDidMount.bind(Object(ue.a)(i));var o=Promise.all([n.e(1),n.e(3),n.e(146)]).then(n.bind(null,868));return Promise.all([n.e(1),n.e(3),n.e(13)]).then(n.t.bind(null,782,7)).then((function(e){e.languages.typescript.typescriptDefaults.setCompilerOptions({target:e.languages.typescript.ScriptTarget.ESNext,allowNonTsExtensions:!0}),o.then((function(e){i.setState({editorComponent:e.default})})).catch((function(e){console.error(e),i.setState({editorComponent:!1})}))})).catch((function(e){console.error(e),i.setState({editorComponent:!1})})),i}return Object(v.a)(r,[{key:"render",value:function(){return this.updateHighlight(),Object(ne.jsxs)("div",{id:this.props.id,ref:this.outerContainerRef,className:function(e){var t=["codeEditor"];e&&t.push("hasInfo");return t.join(" ")}(this.props.showInfo),children:[Object(ne.jsx)("div",{className:"editorContainer",children:this.getEditor()}),this.props.showInfo&&this.getInfo()]})}},{key:"componentWillUnmount",value:function(){var e,t=Object(S.a)(this.disposables);try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(n){t.e(n)}finally{t.f()}this.disposables.length=0}},{key:"getInfo",value:function(){return Object(ne.jsxs)("div",{className:"editorInfo",children:["Pos ",this.state.position,", Ln ",this.state.lineNumber,", Col ",this.state.column]})}},{key:"updateHighlight",value:function(){if(null!=this.editor){this.lineAndColumnComputer.text!==this.props.text&&(this.lineAndColumnComputer=new E(this.props.text));var e=this.props.highlight,t=this.lineAndColumnComputer,n=function(){if(null==e)return;var n=t.getNumberAndColumnFromPos(e.start),r=t.getNumberAndColumnFromPos(e.end);return{startLineNumber:n.lineNumber,startColumn:n.column,endLineNumber:r.lineNumber,endColumn:r.column}}();if(this.deltaDecorations=this.editor.deltaDecorations(this.deltaDecorations,null==n?[]:[{range:n,options:{className:"editorRangeHighlight"}}]),n)try{this.editor.revealRangeInCenterIfOutsideViewport(n)}catch(r){}}}},{key:"getEditor",value:function(){var e=this;return null==this.state.editorComponent?Object(ne.jsx)(he,{backgroundColor:"#1e1e1e"}):!1===this.state.editorComponent?Object(ne.jsx)("div",{className:"errorMessage",children:"Error loading code editor. Please refresh the page to try again."}):Object(ne.jsx)(this.state.editorComponent,{width:"100%",height:"100%",value:this.props.text,theme:"vs-dark",language:"typescript",onChange:function(t){return e.props.onChange&&e.props.onChange(t)},editorDidMount:this.editorDidMount,options:{automaticLayout:!1,renderWhitespace:this.props.renderWhiteSpace?"all":"none",minimap:{enabled:!1},readOnly:this.props.readOnly,quickSuggestions:!1,occurrencesHighlight:!1,selectionHighlight:!1,codeLens:!1,suggestOnTriggerCharacters:!1}})}},{key:"editorDidMount",value:function(e,t){var n,r=this;this.editor=e,null===(n=e.getModel())||void 0===n||n.setEOL(t.editor.EndOfLineSequence.LF),this.disposables.push(e.onDidChangeCursorPosition((function(t){var n=e.getModel();null!=n&&r.setState({position:n.getOffsetAt(t.position),lineNumber:t.position.lineNumber,column:t.position.column})}))),this.disposables.push(e.onMouseDown((function(t){if(null!=t.target&&null!=t.target.range&&null!=r.props.onClick){var n=e.getPosition();if(null!=n){var i=r.lineAndColumnComputer.getPosFromLineAndColumn(n.lineNumber,n.column);r.props.onClick([i,i])}}})));var i=0,o=0,a=setInterval((function(){var t=r.outerContainerRef.current;if(null!=t){var n=t.offsetWidth,a=t.offsetHeight;i===a&&o===n||(e.layout(),i=a,o=n)}}),500);this.disposables.push({dispose:function(){return clearInterval(a)}}),this.updateHighlight(),this.props.editorDidMount&&this.props.editorDidMount(e,t)}}]),r}(l.a.Component),be=function(e){Object(le.a)(n,e);var t=Object(de.a)(n);function n(e){var r;return Object(j.a)(this,n),(r=t.call(this,e)).lastResetHash=void 0,r.state={hasError:!1},r}return Object(v.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e,errorInfo:t}),console.error(e),null!=this.props.getResetHash&&(this.lastResetHash=this.props.getResetHash())}},{key:"render",value:function(){return this.getHasError()?Object(ne.jsxs)("div",{children:[Object(ne.jsx)("h2",{children:"Something went wrong"}),Object(ne.jsxs)("div",{style:{whiteSpace:"pre-wrap"},children:[Object(ne.jsx)("div",{children:this.state.error&&this.state.error.toString()}),Object(ne.jsx)("div",{children:this.state.errorInfo.componentStack})]})]}):this.props.children}},{key:"getHasError",value:function(){return!!this.state.hasError&&(!this.hasHashChanged()||(this.lastResetHash=void 0,this.setState({hasError:!1,error:void 0}),!1))}},{key:"hasHashChanged",value:function(){return null!=this.props.getResetHash&&this.props.getResetHash()!==this.lastResetHash}}]),n}(l.a.Component);function ge(e){var t=Object(u.useState)(),n=Object(c.a)(t,2),r=n[0],i=n[1];return Object(u.useEffect)((function(){i(void 0),Z(e.compiler.packageName).then((function(e){i(new x(e))})).catch((function(e){console.error(e),i(!1)}))}),[e.compiler.packageName]),null==r?Object(ne.jsx)(he,{backgroundColor:"#1e1e1e"}):!1===r?Object(ne.jsx)("div",{className:"errorMessage",children:"Error loading factory code. Please refresh the page to try again."}):Object(ne.jsx)(fe,{id:s.constants.css.factoryCodeEditor.id,editorDidMount:me,text:function(){if(null==r||!1===r)return"";return r.value(e.compiler.api,e.compiler.selectedNode)}(),readOnly:!0})}function me(e){window.getFactoryCodeEditorText=function(){return e.getValue()}}function je(e){return Object(ne.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.text})}function ve(e){var t=Object(u.useRef)(null),n=Object(u.useState)(!1),r=Object(c.a)(n,2),i=r[0],o=r[1];return function(e,t){var n=Object(u.useCallback)(t,[t]);Object(u.useEffect)((function(){var t=function(t){e.current&&!e.current.contains(t.target)&&n(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t,!1),function(){document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t,!1)}}),[n,e])}(t,(function(){return o(!1)})),Object(ne.jsxs)("div",{id:s.constants.css.options.id,ref:t,children:[Object(ne.jsx)("div",{id:s.constants.css.options.buttonId,onClick:function(){return o(!i)},role:"button",children:"Options"}),Object(ne.jsx)("div",{className:"menuLine",hidden:!i}),Object(ne.jsxs)("div",{className:"menu",hidden:!i,children:[function(){var t=Object(ne.jsx)("select",{id:s.constants.css.options.compilerVersionSelectionId,value:e.options.compilerPackageName,onChange:function(e){return l({compilerPackageName:e.target.value})},children:s.compilerVersionCollection.map((function(e){return Object(ne.jsx)("option",{value:e.packageName,children:e.version},e.packageName)}))});return Object(ne.jsx)(ye,{name:"Version",value:t})}(),function(){var t=Object(ne.jsxs)("select",{id:s.constants.css.options.treeModeId,value:e.options.treeMode,onChange:function(e){return l({treeMode:parseInt(e.target.value,10)})},children:[Object(ne.jsxs)("option",{value:s.TreeMode.forEachChild,children:["node.forEachChild(child =",">"," ...)"]}),Object(ne.jsx)("option",{value:s.TreeMode.getChildren,children:"node.getChildren()"})]});return Object(ne.jsx)(ye,{name:"Tree mode",value:t})}(),function(){var t=e.api;if(null==t)return;return a("Script kind","ts.ScriptKind",t.ScriptKind,e.options.scriptKind,(function(e){return l({scriptKind:e})}))}(),function(){var t=e.api;if(null==t)return;return a("Script target","ts.ScriptTarget",t.ScriptTarget,e.options.scriptTarget,(function(e){return l({scriptTarget:e})}))}(),function(){var t=Object(ne.jsx)("div",{children:Object(ne.jsx)("input",{id:s.constants.css.options.bindingEnabledId,type:"checkbox",checked:e.options.bindingEnabled,onChange:function(e){return l({bindingEnabled:!!e.target.checked})}})});return Object(ne.jsx)(ye,{name:"Binding",value:t})}(),function(){var t=Object(ne.jsx)("div",{children:Object(ne.jsx)("input",{id:s.constants.css.options.showFactoryCodeId,type:"checkbox",checked:e.options.showFactoryCode,onChange:function(e){return l({showFactoryCode:!!e.target.checked})}})});return Object(ne.jsx)(ye,{name:"Factory code",value:t})}(),function(){var t=Object(ne.jsx)("div",{children:Object(ne.jsx)("input",{id:s.constants.css.options.showInternalsId,type:"checkbox",checked:e.options.showInternals,onChange:function(e){return l({showInternals:!!e.target.checked})}})});return Object(ne.jsx)(ye,{name:"Show internals",value:t})}(),Object(ne.jsxs)("div",{className:"bottomLinks",children:[Object(ne.jsx)(je,{text:"About",url:"https://github.com/dsherret/ts-ast-viewer/tree/main/docs/about.md"}),Object(ne.jsx)("span",{children:"\xa0|\xa0"}),Object(ne.jsx)(je,{text:"View on GitHub",url:"https://github.com/dsherret/ts-ast-viewer"})]})]})]});function a(e,t,n,r,i){var o=Object(ne.jsx)("select",{value:r,onChange:function(e){return i(parseInt(e.target.value,10))},children:C.getNamesForValues(n).map((function(e){return n=e.value,r=e.names,Object(ne.jsxs)("option",{value:n,children:[t,".",r.join(" / ")]},n);var n,r}))});return Object(ne.jsx)(ye,{name:e,value:o})}function l(t){e.onChange(Object(R.a)({},t))}}function ye(e){return Object(ne.jsxs)("div",{className:"option",children:[Object(ne.jsxs)("div",{className:"optionName",children:[e.name,":"]}),Object(ne.jsx)("div",{className:"optionValue",children:e.value})]})}var Oe=n(35),xe=n.n(Oe),Se=n(21),Ce=n.n(Se);function Ne(e){var t=Object(u.useState)(e.defaultCollapsed),n=Object(c.a)(t,2),r=n[0],i=n[1];return Object(ne.jsx)(Ce.a,{nodeLabel:e.nodeLabel,collapsed:r,onClick:function(){i(!r)},children:r?void 0:e.getChildren()})}function ke(e){var t=Object(u.useState)(!1),n=Object(c.a)(t,2),r=n[0],i=n[1];return Object(ne.jsxs)("div",{className:"toolTippedText",onMouseEnter:o,onMouseLeave:o,children:[Object(ne.jsx)("div",{className:"titleText",children:e.text}),r&&Object(ne.jsx)("div",{className:"tooltipText",children:e.children})]});function o(){i(!r)}}function Ee(e){var t=Object(u.useState)(void 0),n=Object(c.a)(t,2),r=n[0],i=n[1];Object(u.useEffect)((function(){i(void 0),function(e){return A.apply(this,arguments)}(e.compiler.packageName).then((function(e){i(e)})).catch((function(e){console.error(e),i(!1)}))}),[e.compiler.packageName]);var o=e.selectedNode,a=e.sourceFile,l=e.bindingEnabled,d=e.bindingTools,p={api:e.compiler.api,publicApiInfo:r,showInternals:e.showInternals,sourceFile:a};return null==r?Object(ne.jsx)(he,{backgroundColor:"#1e1e1e"}):Object(ne.jsx)("div",{className:"propertiesViewer",children:Object(ne.jsxs)("div",{className:"container",children:[Object(ne.jsx)("h2",{children:"Node"}),Object(ne.jsx)("div",{id:s.constants.css.properties.node.id,children:Fe(p,o)}),l&&we(p,o,d().typeChecker)]})})}function we(e,t,n){return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)("h2",{children:"Type"}),Object(ne.jsx)("div",{id:s.constants.css.properties.type.id,children:Te(e,t,n)}),Object(ne.jsx)("h2",{children:"Symbol"}),Object(ne.jsx)("div",{id:s.constants.css.properties.symbol.id,children:Ie(e,t,n)}),Object(ne.jsx)("h2",{children:"Signature"}),Object(ne.jsx)("div",{id:s.constants.css.properties.signature.id,children:Pe(e,t,n)}),Object(ne.jsx)("h2",{children:"FlowNode"}),Object(ne.jsx)("div",{children:Le(e,t,n)})]})}function Fe(e,t){return Object(ne.jsx)(Ne,{nodeLabel:N(e.api,t.kind),defaultCollapsed:!1,getChildren:function(){var i=e.sourceFile;return Object(ne.jsxs)(ne.Fragment,{children:[De(e,t),n("getChildCount()",t.getChildCount(i)),n("getFullStart()",t.getFullStart()),n("getStart()",t.getStart(i)),n("getStart(sourceFile, true)",X(t,i)),n("getFullWidth()",t.getFullWidth()),n("getWidth()",t.getWidth(i)),n("getLeadingTriviaWidth()",t.getLeadingTriviaWidth(i)),n("getFullText()",t.getFullText(i)),n("getText()",i.text.substring(t.getStart(e.sourceFile),t.getEnd())),r("ts.getLeadingCommentRanges(fileFullText, ".concat(t.getFullStart(),")"),e.api.getLeadingCommentRanges(e.sourceFile.text,t.getFullStart())),r("ts.getTrailingCommentRanges(fileFullText, ".concat(t.end,")"),e.api.getTrailingCommentRanges(e.sourceFile.text,t.end))]})}});function n(e,t){return Re(e,"string"===typeof t?t:JSON.stringify(t))}function r(t,n){return null==n?Re(t,"undefined"):Ae(e,t,n)}}function Te(e,t,n){if(t.kind===e.api.SyntaxKind.SourceFile)return Object(ne.jsx)(ne.Fragment,{children:"[None]"});var r=_e((function(){return n.getTypeAtLocation(t)}));return null==r?Object(ne.jsx)(ne.Fragment,{children:"[None]"}):"string"===typeof r?Object(ne.jsxs)(ne.Fragment,{children:["[Error getting type: ",r,"]"]}):Me(e,r,function(){try{return n.typeToString(r,t)}catch(e){return"[Problem getting type text: ".concat(e,"]")}}()||"Type")}function Ie(e,t,n){var r=_e((function(){return t.symbol||n.getSymbolAtLocation(t)}));return null==r?Object(ne.jsx)(ne.Fragment,{children:"[None]"}):"string"===typeof r?Object(ne.jsxs)(ne.Fragment,{children:["[Error getting symbol: ",r,"]"]}):Me(e,r,function(){try{return r.getName()}catch(e){return"[Problem getting symbol name: ".concat(e,"]")}}()||"Symbol")}function Pe(e,t,n){var r=_e((function(){return n.getSignatureFromDeclaration(t)}));return null==r||"string"===typeof r?Object(ne.jsx)(ne.Fragment,{children:"[None]"}):Me(e,r,"Signature")}function Le(e,t,n){var r=t;return null==r.flowNode?Object(ne.jsx)(ne.Fragment,{children:"[None]"}):Me(e,r.flowNode,"FlowNode")}function _e(e){try{return e()}catch(t){return JSON.stringify(t)}}function Me(e,t,n){return Object(ne.jsx)(Ne,{nodeLabel:n,defaultCollapsed:!1,getChildren:function(){return De(e,t)}})}function De(e,t){var n=He(e,t);return Object(ne.jsx)(ne.Fragment,{children:n.map((function(n){var r,i,o,a=(r=n.key,i=n.value,o=t,null===i?Re(r,"null"):void 0===i?Re(r,"undefined"):i instanceof Array?Ae(e,r,i):Be(i)?function(e,t,n){return Object(ne.jsxs)("div",{className:"object","data-name":t,children:[Object(ne.jsxs)("div",{className:"key",children:[t,":"]}),Object(ne.jsx)("div",{className:"value",children:Ke(e,n)})]},t)}(e,r,i):function(e){return"function"===typeof e.keys&&"function"===typeof e.values}(i)?function(e,t,n){var r=y.from(n.entries());return 0===r.length?Re(t,"{}"):Object(ne.jsxs)("div",{className:"array","data-name":t,children:[Object(ne.jsxs)("div",{className:"key",children:[t,":","{"]}),Object(ne.jsx)("div",{className:"value",children:r.map((function(t,n){return Ke(e,t[1],t[0],n)}))}),Object(ne.jsx)("div",{className:"suffix",children:"}"})]},t)}(e,r,i):"object"===typeof i?function(e,t,n){return 0===He(e,n).length?Re(t,"{}"):Object(ne.jsxs)("div",{className:"object","data-name":t,children:[Object(ne.jsxs)("div",{className:"key",children:[t,":"]}),Object(ne.jsx)("div",{className:"value",children:Ke(e,n)})]},t)}(e,r,i):function(e,t,n,r){return Object(ne.jsxs)("div",{className:"text","data-name":t,children:[Object(ne.jsxs)("div",{className:"key",children:[t,":"]}),Object(ne.jsx)("div",{className:"value",children:i()})]},t);function i(){if(Be(r))switch(t){case"kind":return"".concat(n," (SyntaxKind.").concat(N(e.api,n),")");case"flags":return Xe(e.api.NodeFlags,n)}return Je(r)&&"objectFlags"===t?Xe(e.api.ObjectFlags,n):Je(r)&&"flags"===t?Xe(e.api.TypeFlags,n):Ge(r)&&"flags"===t?Xe(e.api.SymbolFlags,n):function(e){return null!=e.antecedents||null!=e.antecedent}(r)&&"flags"===t?Xe(e.api.FlowFlags,n):xe.a.stringify(n)}}(e,r,i,o));return"internal"===n.permission?Object(ne.jsx)("div",{className:"internal","data-name":n.key,children:a},n.key):a}))})}function Ae(e,t,n){return 0===n.length?Re(t,"[]"):Object(ne.jsxs)("div",{className:"array","data-name":t,children:[Object(ne.jsxs)("div",{className:"key",children:[t,": ["]}),Object(ne.jsx)("div",{className:"value",children:n.map((function(t,n){return Ke(e,t,void 0,n)}))}),Object(ne.jsx)("div",{className:"suffix",children:"]"})]},t)}function Re(e,t){return Object(ne.jsxs)("div",{className:"text","data-name":e,children:[null==e?void 0:Object(ne.jsxs)("div",{className:"key",children:[e,":"]}),Object(ne.jsx)("div",{className:"value",children:t})]},e)}function Ke(e,t,n,r){var i=Ve(e,t);return n=function(){if(null==n)return i;if(null!=i)return"".concat(n,": ").concat(Ve(e,t));return n}(),"string"===typeof t?Re(n,'"'.concat(t,'"')):"number"===typeof t||"boolean"===typeof t?Re(n,t.toString()):Object(ne.jsx)(Ne,{nodeLabel:n,defaultCollapsed:!0,getChildren:function(){return De(e,t)}},r)}function Ve(e,t){if(null!=t){if(Be(t))return r(N(e.api,t.kind));if(qe(t))return r("Signature");if(Je(t))return r("Type");if(Ge(t))return r("Symbol");var n=typeof t;if("string"!==n&&"number"!==n&&"boolean"!==n)return r("Object")}function r(e){var n=function(){try{return"function"===typeof t.getName?t.getName():Be(t)&&null!=t.name?t.name.getText():void 0}catch(e){return}}();return null==n?e:"".concat(e," (").concat(n,")")}}function He(e,t){return null==t?[]:Object.keys(t).map((function(n){return{key:n,permission:ze(e,t,n),value:t[n]}})).filter((function(t){return!1!==t.permission&&(e.showInternals||"internal"!==t.permission)}))}var Ue=new Set(["parent","_children","symbol"]),We=new Set(["checker","symbol"]);function ze(e,t,n){var r=e.publicApiInfo;if(Be(t)){if(Ue.has(n))return!1;if(!r)return!0;var i=N(e.api,t.kind);return o(r.nodePropertiesBySyntaxKind.get(i))}return Je(t)?!We.has(n)&&o(r&&r.typeProperties):qe(t)?o(r&&r.signatureProperties):!Ge(t)||o(r&&r.symbolProperties);function o(e){return!e||(!!e.has(n)||"internal")}}function Be(e){return"number"===typeof e.kind}function Je(e){return null!=e.getBaseTypes}function Ge(e){return null!=e.getDeclarations}function qe(e){return null!=e.declaration&&Be(e.declaration)}function Xe(e,t){var n=function(e,t){var n=Object.keys(e).map((function(t){return e[t]})).filter((function(e){return"number"===typeof e})).filter((function(e){return 0!==(e&t)}));return n.filter((function(e,t){return n.indexOf(e)===t})).map((function(t){var n=Math.log2(t);return Number.isInteger(n)?"".concat(e[t]," (2 ^ ").concat(n,")"):e[t]}))}(e,t);return 0===n.length?Object(ne.jsx)(ne.Fragment,{children:t}):Object(ne.jsx)(ke,{text:t.toString(),children:Object(ne.jsx)("ul",{children:n.map((function(e,t){return Object(ne.jsx)("li",{children:e},t)}))})})}function Qe(e){var t=e.sourceFile,n=e.selectedNode,r=e.onSelectNode,i=e.mode,o=e.api,a=0;return Object(u.useLayoutEffect)((function(){var e=document.getElementById(s.constants.css.treeViewer.id),t=document.querySelector("#".concat(s.constants.css.treeViewer.id," .").concat(s.constants.css.treeViewer.selectedNodeClass));if(e&&t){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect();(n.y<0||n.y+n.height>r.height)&&t.scrollIntoView({block:"center",inline:"center"})}}),[n]),Object(ne.jsx)("div",{id:s.constants.css.treeViewer.id,children:function e(t,i){var c=i(t),u="nodeText"+(t===n?" "+s.constants.css.treeViewer.selectedNodeClass:""),l=N(o,t.kind),d=Object(ne.jsx)("div",{onClick:function(){return r(t)},className:u,children:l});return 0===c.length?Object(ne.jsx)("div",{className:"endNode","data-name":l,children:d},a++):Object(ne.jsx)("div",{"data-name":l,children:Object(ne.jsx)(Ce.a,{nodeLabel:d,children:c.map((function(t){return e(t,i)}))})},a++)}(t,W(i,t))})}function Ye(){var e=function(){var e=l.a.useContext(ie);if(null==e)throw new Error("Context was undefined.");return e}(),t=e.state,n=e.dispatch,r=t.compiler;return Object(ne.jsx)("div",{className:"App",children:Object(ne.jsxs)(se.a,{split:"horizontal",defaultSize:50,allowResize:!1,children:[Object(ne.jsxs)("header",{className:"AppHeader clearfix",children:[Object(ne.jsx)("h2",{id:"title",children:"TypeScript AST Viewer"}),Object(ne.jsx)(ve,{api:null==r?void 0:r.api,options:t.options,onChange:function(e){return n({type:"SET_OPTIONS",options:e})}})]}),Object(ne.jsxs)(se.a,{split:"vertical",minSize:50,defaultSize:"33%",children:[function(){return t.options.showFactoryCode?Object(ne.jsxs)(se.a,{split:"horizontal",defaultSize:.7*window.innerHeight,children:[e(),function(){if(null==r||t.apiLoadingState===$.Loading)return Object(ne.jsx)(he,{});return Object(ne.jsx)(be,{getResetHash:function(){return t.code},children:Object(ne.jsx)(ge,{compiler:r})})}()]}):e();function e(){return Object(ne.jsx)(fe,{id:s.constants.css.mainCodeEditor.id,onChange:function(e){return n({type:"SET_CODE",code:e})},onClick:function(e){if(null!=r){var i=function(e,t,n,r){var i=W(e,t),o=r.SyntaxKind,a={node:t,start:t.getStart(t)};return function e(r){var c,s,u=i(r),l=Object(S.a)(u);try{for(l.s();!(c=l.n()).done;){var d=c.value;if(d.kind!==o.SyntaxList){if(d.end<n[0])continue;var p=X(d,t);if((s=p)>=n[0]&&s>n[1])return;var h=d.kind===o.EndOfFileToken,f=a.start===p&&n[0]===p;h||f||(a={node:d,start:p})}e(d)}}catch(b){l.e(b)}finally{l.f()}}(t),a.node}(t.options.treeMode,r.sourceFile,e,r.api);n({type:"SET_SELECTED_NODE",node:i})}},text:t.code,highlight:i(),showInfo:!0,renderWhiteSpace:!0,editorDidMount:o})}}(),function(){if(null==r||t.apiLoadingState===$.Loading)return Object(ne.jsx)(he,{});if(t.apiLoadingState===$.Error)return Object(ne.jsx)("div",{className:"errorMessage",children:"Error loading compiler API. Please refresh the page to try again."});return Object(ne.jsx)(be,{children:Object(ne.jsxs)(se.a,{split:"vertical",minSize:50,defaultSize:"50%",children:[Object(ne.jsx)(Qe,{api:r.api,selectedNode:r.selectedNode,sourceFile:r.sourceFile,onSelectNode:function(e){return n({type:"SET_SELECTED_NODE",node:e})},mode:t.options.treeMode}),Object(ne.jsx)(Ee,{compiler:r,selectedNode:r.selectedNode,sourceFile:r.sourceFile,bindingTools:r.bindingTools,bindingEnabled:t.options.bindingEnabled,showInternals:t.options.showInternals})]})})}()]})]})});function i(){if(null!=r){var e=r.selectedNode,t=r.sourceFile;return e===t?void 0:{start:X(e,t),end:e.end}}}function o(e){setTimeout((function(){return e.focus()}),100),window.setMonacoEditorText=function(t){var n=e.getModel();null!=n&&e.executeEdits("my-source",[{range:n.getFullModelRange(),text:t}])}}}n(77),n(78);ce.a.render(Object(ne.jsx)(oe,{children:Object(ne.jsx)(Ye,{})}),document.getElementById("root"))}},[[79,7,8]]]);
//# sourceMappingURL=main.4fa64bf6.chunk.js.map